{% extends 'base' %}

{% block page_title %}{{ trans('pages.search.title') }}{% endblock %}

{% block title %}{{ trans('pages.search.title') }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header">
                    <div class="box-title">{{ trans('pages.search.title') }}</div>
                </div>

                {{ form_open({'route': 'search', 'class': 'form-horizontal', 'method': 'GET'}) }}
                    <div class="box-body">
                        <div class="form-group">
                            <div class="col-md-6">
                                {{ form_text('q', q, {'class': 'form-control'}) }}
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-6">
                                <button type="submit" class="btn btn-primary">{{ trans('labels.actions.search') }}</button>
                            </div>
                        </div>
                    </div>
                {{ form_close() }}
            </div>
        </div>
    </div>

    {% if has_results %}
        <div class="row">
            <div class="col-md-12">
                <div class="box box-success">
                    <div class="box-header">
                        <div class="box-title">
                            {{ trans('messages.search.results_title', {'q': q}) | raw }}
                        </div>
                    </div>

                    <div class="box-body">
                        <ul>
                            {% for mailbox in mailboxes %}
                                <li><a href="{{ route('mailboxes.show', mailbox.id) }}">{{ mailbox.email }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}
